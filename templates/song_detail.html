{% extends "base.html" %}

{% block title %}{{ song.title }} - LinguaTune{% endblock %}

{% block content %}
<h2>{{ song.title }}{% if song.is_learned %} ‚úÖ{% endif %}</h2>
<p><strong>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</strong> {{ song.artist }}</p>
<p><strong>–Ø–∑—ã–∫:</strong> 
    {% if song.language == 'en' %}üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
    {% elif song.language == 'es' %}üá™üá∏ –ò—Å–ø–∞–Ω—Å–∫–∏–π
    {% elif song.language == 'fr' %}üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
    {% elif song.language == 'de' %}üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π
    {% else %}{{ song.language }}{% endif %}
</p>
<p><strong>–£—Ä–æ–≤–µ–Ω—å:</strong> 
    {% if song.difficulty == 'beginner' %}–ù–∞—á–∞–ª—å–Ω—ã–π
    {% elif song.difficulty == 'intermediate' %}–°—Ä–µ–¥–Ω–∏–π
    {% elif song.difficulty == 'advanced' %}–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π
    {% else %}{{ song.difficulty }}{% endif %}
</p>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
    <div>
        <h3>üéµ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç</h3>
        <div style="background: #f9f9f9; padding: 15px; border-radius: 5px; white-space: pre-line;">
            {{ song.lyrics_original }}
        </div>
    </div>
    <div>
        <h3>üìñ –ü–µ—Ä–µ–≤–æ–¥</h3>
        <div style="background: #f9f9f9; padding: 15px; border-radius: 5px; white-space: pre-line;">
            {{ song.lyrics_translation }}
        </div>
    </div>
</div>

<div style="margin-top: 20px;">
    <h3>üìö –°–ª–æ–≤–∞—Ä—å –ø–µ—Å–Ω–∏</h3>
    <div>
        {% for word in song.vocabulary %}
        <span style="background: #e8f5e8; padding: 5px 10px; margin: 5px; border-radius: 15px; display: inline-block;">
            {{ word }}
        </span>
        {% endfor %}
    </div>
</div>

<div style="margin-top: 20px;">
    {% if user_email %}
        {% if not song.is_learned %}
            <a href="/learn/{{ song.id }}" class="btn">‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω–æ–π</a>
        {% else %}
            <button class="btn" disabled>‚úÖ –£–∂–µ –∏–∑—É—á–µ–Ω–æ</button>
        {% endif %}
    {% else %}
        <button class="btn" disabled title="–í–æ–π–¥–∏—Ç–µ —á—Ç–æ–±—ã –æ—Ç–º–µ—á–∞—Ç—å –ø–µ—Å–Ω–∏">‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω–æ–π</button>
    {% endif %}
    <a href="/songs" class="btn">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
</div>
{% endblock %}