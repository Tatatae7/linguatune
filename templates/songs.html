{% extends "base.html" %}

{% block title %}–í—Å–µ –ø–µ—Å–Ω–∏ - LinguaTune{% endblock %}

{% block content %}
<h2>üé∂ –í—Å–µ –ø–µ—Å–Ω–∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</h2>

{% for song in songs %}
<div class="song-card" {% if song.is_learned %}style="background: #e8f5e8;"{% endif %}>
    <div class="song-title">
        {{ song.title }}
        {% if song.is_learned %} ‚úÖ{% endif %}
    </div>
    <div class="song-artist">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: {{ song.artist }}</div>
    <div>
        <span class="language-badge">
            {% if song.language == 'en' %}üá¨üáß –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
            {% elif song.language == 'es' %}üá™üá∏ –ò—Å–ø–∞–Ω—Å–∫–∏–π
            {% elif song.language == 'fr' %}üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
            {% elif song.language == 'de' %}üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π
            {% else %}{{ song.language }}{% endif %}
        </span>
        <span class="difficulty-{{ song.difficulty }}">
            –£—Ä–æ–≤–µ–Ω—å: 
            {% if song.difficulty == 'beginner' %}–ù–∞—á–∞–ª—å–Ω—ã–π
            {% elif song.difficulty == 'intermediate' %}–°—Ä–µ–¥–Ω–∏–π
            {% elif song.difficulty == 'advanced' %}–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π
            {% else %}{{ song.difficulty }}{% endif %}
        </span>
    </div>
    <div style="margin-top: 10px;">
        <strong>–¢–µ–∫—Å—Ç:</strong><br>
        {{ song.lyrics_original[:100] }}...
    </div>
    <div style="margin-top: 5px;">
        <strong>–ü–µ—Ä–µ–≤–æ–¥:</strong><br>
        {{ song.lyrics_translation[:100] }}...
    </div>
    <div style="margin-top: 10px;">
        {% if user_email %}
            {% if not song.is_learned %}
                <a href="/learn/{{ song.id }}" class="btn">‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∏–∑—É—á–µ–Ω–Ω–æ–π</a>
            {% else %}
                <button class="btn" disabled>‚úÖ –ò–∑—É—á–µ–Ω–æ</button>
            {% endif %}
        {% else %}
            <button class="btn" disabled title="–í–æ–π–¥–∏—Ç–µ —á—Ç–æ–±—ã –æ—Ç–º–µ—á–∞—Ç—å –ø–µ—Å–Ω–∏">‚úÖ –ò–∑—É—á–µ–Ω–æ</button>
        {% endif %}
        <a href="/song/{{ song.id }}" class="btn">üìñ –ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
    </div>
</div>
{% endfor %}
{% endblock %}